# 理解 BDD

### **📌 BDD（Behaviour-Driven Development，行為驅動開發）是什麼？**

**BDD（行為驅動開發）** 是一種軟體開發方法，強調用**自然語言描述需求**，確保開發人員、測試人員和業務人員之間有共同的理解。\
它是從 **TDD（Test-Driven Development，測試驅動開發）** 發展而來的，並且通常與 **Cucumber** 等測試工具一起使用。

典型工具組合：

- **Cucumber + Gherkin**（Java、Python、JavaScript）

- **SpecFlow + Gherkin**（.NET）

- **Behave + Gherkin**（Python）

---

## **🔹 BDD 的核心概念**

### 1️⃣ **使用 Gherkin 語法**

BDD 使用 **Gherkin 語法** 來撰寫測試案例，這是一種 **結構化的自然語言**，讓非技術人員也能理解測試內容。

📌 **Gherkin 的語法包含 3 個核心步驟：**

- **Given（前置條件）** – 準備測試場景

- **When（行為/動作）** – 執行測試行為

- **Then（結果驗證）** – 驗證測試結果

📝 **範例（登入功能）**

```gherkin
Feature: 使用者登入
  Scenario: 成功登入
    Given 使用者在登入頁面
    When 輸入正確的帳號 "user123" 和密碼 "password123"
    Then 使用者應該成功登入並看到首頁
```

---

### 2️⃣ **強調「行為」而非「測試步驟」**

- 傳統測試（TDD）：專注於 **測試代碼**，由開發人員撰寫

- BDD：專注於 **使用者行為**，可由開發、測試、業務人員共同撰寫

BDD 測試案例通常由 **產品經理（PM）、開發人員、測試人員（QA）** 共同參與制定，確保所有人對需求的理解一致。

---

### 3️⃣ **結合自動化測試**

BDD 通常與 **測試自動化框架（如 Cucumber、SpecFlow、JBehave）** 以及測試工具（如 **Appium、Selenium**）一起使用，將 **自然語言測試案例** 轉換為 **可執行的自動化測試**。

📌 **Cucumber + Appium 測試架構**

1. **Feature 文件（.feature）**  

   - 撰寫 Gherkin 測試案例（行為描述）

2. **Step Definitions（步驟定義）**  

   - 在 Java/Kotlin/JavaScript/Python 內部實作對應的測試步驟

3. **Appium/Selenium 測試代碼**  

   - 執行 UI 測試，與 Appium 互動

---

## **🔹 BDD 的優勢**

✅ **提升需求的清晰度**：所有人都能理解測試案例，減少溝通錯誤\
✅ **促進團隊協作**：PM、QA、開發團隊可以共同撰寫測試案例\
✅ **可讀性強**：測試案例是用自然語言撰寫的，不需要技術背景也能理解\
✅ **自動化測試**：Gherkin 測試案例可以直接與 Appium、Selenium 整合，執行 UI 測試  

---

## **🔹 什麼時候使用 BDD？**

🔹 **適用場景**

- 產品開發需要明確的 **業務需求** 和 **行為測試**

- 需要 PM、QA、開發人員 **共同協作** 撰寫測試

- **UI 自動化測試**（例如用 **Cucumber + Appium**）

🔹 **不適用場景**

- **小型專案** 或 **簡單測試需求**（使用單純的 TDD 可能更高效）

- 團隊缺乏對 BDD 框架的了解，反而會增加學習成本

---

## **🔹 BDD vs TDD**

|  | **BDD（行為驅動開發）** | **TDD（測試驅動開發）** | 
|---|---|---|
| **目標** | 定義系統「行為」 | 驗證「代碼邏輯」 | 
| **語言** | Gherkin（自然語言） | 程式語言（如 Java、Python） | 
| **寫測試的人** | PM、QA、開發人員 | 主要是開發人員 | 
| **測試方式** | 偏向「黑箱測試」 | 偏向「白箱測試」 | 
| **適用場景** | 產品需求測試、UI 測試 | 單元測試 | 

---

### **🚀 總結**

✅ **BDD（行為驅動開發）** 是一種以「行為」為核心的開發方式，使用 Gherkin 語法來撰寫測試案例\
✅ **適合 UI 自動化測試**，與 **Appium、Selenium** 搭配使用\
✅ **提升團隊協作效率**，確保需求和測試目標一致\
✅ **使用 Cucumber 框架**，讓測試案例 **可讀、可執行、自動化**  

如果你想學習 **Cucumber + Appium**，可以從 **Gherkin 語法** 和 **步驟定義（Step Definitions）** 開始！🚀
# æµç¨‹å„ªåŒ– â†’ **éŒ„è£½çš„è…³æœ¬**å–ä»£ XML

**åŸæœ¬æµç¨‹ï¼š**\
ç•«é¢ XML âœ å¯è®€ç•«é¢æè¿° âœ AI Prompt âœÂ `.feature`

**ç¾åœ¨æ”¹æˆï¼š**\
**Appium Inspector éŒ„è£½çš„è…³æœ¬**ï¼ˆå–ä»£ XMLï¼‰ âœ å¯è®€ç•«é¢æè¿° âœ AI Prompt âœÂ `.feature`

---

## ğŸ” ç‚ºä»€éº¼å¯è¡Œï¼Ÿ

å› ç‚º Appium Inspector éŒ„è£½çš„ç¨‹å¼ç¢¼ï¼Œæœ¬è³ªä¸Šå·²ç¶“åŒ…å«ï¼š

- ä½¿ç”¨è€…æ“ä½œæµç¨‹

- UI å…ƒä»¶çš„æ¨™è­˜ï¼ˆ`accessibilityId`,Â `xpath`,Â `name`,Â `className`ï¼‰

- æ“ä½œè¡Œç‚ºï¼ˆsendKeys, clickï¼‰

é€™äº›è³‡è¨Šæ­£å¥½å°±æ˜¯ AI å»ºç«‹Â `.feature`Â æ¸¬è©¦æ¡ˆä¾‹æ‰€éœ€è¦çš„ï¼

---

## ä»¥ç™»å…¥ç‚ºä¾‹(å³é‚Šç¯„ä¾‹)ï¼š

- æ ¹æ“šä½ é€™æ®µ Java æ¸¬è©¦è…³æœ¬ï¼Œæˆ‘å¹«ä½ ç”¢ç”Ÿä»¥ä¸‹Â **ä¸­æ–‡æ’°å¯«çš„Â `.feature`Â æ¸¬è©¦æ¡ˆä¾‹**ï¼ˆGherkin æ ¼å¼ï¼‰ï¼š

å¤ªå¥½äº†ï¼

è®“æˆ‘å€‘ä¸€èµ·å»ºç«‹ä¸€å¥—å®Œæ•´çš„æµç¨‹ï¼Œå¾ **Appium æ¸¬è©¦è…³æœ¬ âœ è‡ªå‹•ç”¢å‡º `.feature` âœ æ¸¬è©¦åŸ·è¡Œ**ï¼Œ

é€™æ¨£ä½ ä»¥å¾Œå¯ä»¥å¿«é€Ÿè‡ªå‹•åŒ–æ›´å¤šåŠŸèƒ½ç•«é¢ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹æ¸…æ™°çš„çµæ§‹ ğŸ‘‡

---

## ğŸ§© æ•´é«”æ¶æ§‹ç¸½è¦½

```plaintext
Step 1ï¸âƒ£ï¼šéŒ„è£½ Appium æ¸¬è©¦è…³æœ¬ï¼ˆJavaï¼‰
â†“
Step 2ï¸âƒ£ï¼šåˆ†æè…³æœ¬å…§å®¹ âœ ç”¢å‡ºç•«é¢æ“ä½œæè¿°
â†“
Step 3ï¸âƒ£ï¼šåˆ©ç”¨ AIï¼ˆChatGPT / OpenAI APIï¼‰ç”¢å‡º Gherkin `.feature`
â†“
Step 4ï¸âƒ£ï¼šç”¨ Cucumber + Appium åŸ·è¡Œ feature æ¸¬è©¦æ¡ˆä¾‹
```

---

## ğŸ”§ è©³ç´°æ­¥é©Ÿèˆ‡å·¥å…·

---

### âœ… Step 1ï¸âƒ£ éŒ„è£½ Appium æ¸¬è©¦è…³æœ¬ï¼ˆä½ å·²å®Œæˆï¼‰

- ä½¿ç”¨ Appium Inspector éŒ„è£½æ¸¬è©¦æ“ä½œæµç¨‹

- ç”¢å‡º Java èªæ³•çš„ Appium è…³æœ¬ï¼ˆåŒ…å«å…ƒç´ ã€æ“ä½œï¼‰

âœ… ä½ å·²å®Œæˆé€™æ­¥ï¼Œæˆ‘å€‘æ¥è‘—èµ°ã€‚

---

### âœ… Step 2ï¸âƒ£ è‡ªå‹•è½‰æ›æˆã€Œæ“ä½œæè¿°ã€

ä½ å¯ä»¥æ‰‹å‹•æˆ–ç”¨ Python script å°‡ Java è…³æœ¬è½‰æˆé€™æ¨£çš„æ ¼å¼ï¼ˆä¹Ÿå¯ä»¥è®“æˆ‘å¹«ä½ å¯« script è‡ªå‹•è½‰æ›ï¼‰ï¼š

```plaintext
[ç™»å…¥æµç¨‹]
- é»æ“ŠæŒ‰éˆ•ï¼šã€Œä»£è™Ÿå¯†ç¢¼ç™»å…¥ã€
- è¼¸å…¥å¸³è™Ÿï¼šã€ŒA226xxx956ã€
- è¼¸å…¥å¯†ç¢¼ï¼šã€Œnbtestã€
- è¼¸å…¥é€šè¡Œç¢¼ï¼šã€Œskb123ã€
- é»æ“ŠæŒ‰éˆ•ï¼šã€Œç«‹å³ç™»å…¥ã€
- é»æ“Šåœ–ç‰‡å…ƒä»¶
- é»æ“Šã€Œç™»å‡ºã€æŒ‰éˆ•
- å¤šæ¬¡ç¢ºèªã€Œç™»å‡ºã€
```

---

### âœ… Step 3ï¸âƒ£ åˆ©ç”¨ AI ç”¢å‡º `.feature`

#### ğŸ§  Prompt æ¨¡æ¿ç¯„ä¾‹ï¼š

```plaintext
ä½ æ˜¯ä¸€ä½è³‡æ·±æ¸¬è©¦å·¥ç¨‹å¸«ã€‚è«‹æ ¹æ“šä»¥ä¸‹ iOS App çš„æ“ä½œæè¿°ï¼Œè‡ªå‹•ç”¢å‡º Cucumber Gherkin `.feature` æ¸¬è©¦æ¡ˆä¾‹ã€‚

éœ€æ±‚ï¼š
- ä½¿ç”¨ä¸­æ–‡å¯«å‡º Feature å’Œ Scenario
- ä½¿ç”¨ Given / When / Then æ ¼å¼
- ç¢ºä¿æ¸¬è©¦é‚è¼¯æ­£ç¢ºä¸”æœ‰æ„ç¾©

æ“ä½œæµç¨‹ï¼š
[ç™»å…¥æµç¨‹]
- é»æ“ŠæŒ‰éˆ•ï¼šã€Œä»£è™Ÿå¯†ç¢¼ç™»å…¥ã€
- è¼¸å…¥å¸³è™Ÿï¼šã€ŒA226060956ã€
- è¼¸å…¥å¯†ç¢¼ï¼šã€Œnbtestã€
- è¼¸å…¥é€šè¡Œç¢¼ï¼šã€Œskb123ã€
- é»æ“ŠæŒ‰éˆ•ï¼šã€Œç«‹å³ç™»å…¥ã€
- é»æ“Šåœ–ç‰‡å…ƒä»¶
- é»æ“Šã€Œç™»å‡ºã€æŒ‰éˆ•
- å¤šæ¬¡ç¢ºèªã€Œç™»å‡ºã€
```

ChatGPT æœƒè¼¸å‡º `.feature`ï¼Œåƒæ˜¯ä¹‹å‰çµ¦ä½ çš„é‚£ä»½ï¼š

```gherkin
Feature: ä½¿ç”¨è€…ä»¥ä»£è™Ÿå¯†ç¢¼ç™»å…¥èˆ‡ç™»å‡º

  Scenario: æˆåŠŸç™»å…¥ä¸¦ç™»å‡ºæ‡‰ç”¨ç¨‹å¼
    Given ä½¿ç”¨è€…å•Ÿå‹• App
    When ä½¿ç”¨è€…é»æ“Šã€Œä»£è™Ÿå¯†ç¢¼ç™»å…¥ã€æŒ‰éˆ•
    And åœ¨ç¬¬ä¸€å€‹æ¬„ä½è¼¸å…¥ä½¿ç”¨è€…ä»£è™Ÿ "A226060956"
    And åœ¨ç¬¬äºŒå€‹æ¬„ä½è¼¸å…¥ç™»å…¥å¯†ç¢¼ "nbtest"
    And åœ¨ç¬¬ä¸‰å€‹æ¬„ä½è¼¸å…¥é€šè¡Œç¢¼ "skb123"
    And é»æ“Šã€Œç«‹å³ç™»å…¥ã€æŒ‰éˆ•
    And ä½¿ç”¨è€…é»æ“Šä¸»ç•«é¢ä¸­çš„åœ–ç‰‡å…ƒä»¶
    And ä½¿ç”¨è€…é»æ“Šã€Œç™»å‡ºã€æŒ‰éˆ•
    And ç¢ºèªç¬¬ä¸€æ¬¡ç™»å‡ºå½ˆå‡ºè¦–çª—ä¸­çš„ã€Œç™»å‡ºã€é¸é …
    And å†æ¬¡é»æ“Šç¢ºèªã€Œç™»å‡ºã€é¸é …
    And æœ€å¾Œé»æ“Šç•«é¢ä¸­çš„ã€Œç™»å‡ºã€æŒ‰éˆ•
    Then ä½¿ç”¨è€…æ‡‰è©²æˆåŠŸç™»å‡ºä¸¦è¿”å›ç™»å…¥ç•«é¢
```

ä½ ä¹Ÿå¯ä»¥ç”¨ OpenAI API ä¸²æ¥è‡ªå‹•åŒ–é€™æ­¥ï¼ˆPython or Node.js éƒ½å¯ï¼‰ã€‚

---

### âœ… Step 4ï¸âƒ£ Cucumber åŸ·è¡Œ `.feature`

#### âœ… å°ˆæ¡ˆç›®éŒ„çµæ§‹ï¼ˆå»ºè­°ï¼‰

```
project/
â”œâ”€ src/
â”‚  â”œâ”€ test/
â”‚  â”‚  â”œâ”€ java/stepdefinitions/LoginSteps.java
â”‚  â”‚  â””â”€ java/runners/TestRunner.java
â”‚
â”œâ”€ src/test/resources/features/
â”‚  â””â”€ login_logout.feature
```

#### âœ… TestRunner.javaï¼š

```java
@RunWith(Cucumber.class)
@CucumberOptions(
    features = "src/test/resources/features",
    glue = {"stepdefinitions"},
    plugin = {"pretty", "html:target/cucumber.html"},
    monochrome = true
)
public class TestRunner {}
```

#### âœ… StepDefinitionsï¼ˆèˆ‰ä¾‹ LoginSteps.javaï¼‰

```java
public class LoginSteps {

    AppiumDriver driver;

    @Given("ä½¿ç”¨è€…å•Ÿå‹• App")
    public void å•Ÿå‹•App() {
        // å»ºç«‹ Appium driver
    }

    @When("ä½¿ç”¨è€…é»æ“Šã€Œä»£è™Ÿå¯†ç¢¼ç™»å…¥ã€æŒ‰éˆ•")
    public void é»æ“Šä»£è™Ÿå¯†ç¢¼ç™»å…¥() {
        driver.findElement(By.id("ä»£è™Ÿå¯†ç¢¼ç™»å…¥")).click();
    }

    @When("åœ¨ç¬¬ä¸€å€‹æ¬„ä½è¼¸å…¥ä½¿ç”¨è€…ä»£è™Ÿ {string}")
    public void è¼¸å…¥ä»£è™Ÿ(String id) {
        driver.findElement(By.xpath("xpath1")).sendKeys(id);
    }

    // å…¶ä»– Step...

    @Then("ä½¿ç”¨è€…æ‡‰è©²æˆåŠŸç™»å‡ºä¸¦è¿”å›ç™»å…¥ç•«é¢")
    public void é©—è­‰ç™»å‡º() {
        // é©—è­‰ç•«é¢è·³è½‰æˆ–å…ƒç´ å‡ºç¾
    }
}
```

---

## ğŸš€ å»¶ä¼¸å¼·åŒ–å»ºè­°ï¼ˆè‡ªå‹•åŒ–é¸é…ï¼‰

| ç›®æ¨™ | å·¥å…· | 
|---|---|
| è‡ªå‹•å¾ Java æŠ“æ“ä½œèªå¥è½‰æˆè‡ªç„¶èªè¨€ | Python AST / Regex | 
| è‡ªå‹•å‘¼å« OpenAI API ç”¢å‡º `.feature` | openai-python-sdk | 
| è‡ªå‹•å°‡ `.feature` ä¸Ÿå…¥ Jenkins Pipeline åŸ·è¡Œ | Jenkinsfile + Gradle | 
| ç®¡ç† featureã€å ±å‘Šèˆ‡é‡è·‘ | Allure Report, Cucumber HTML report | 

---

## ğŸ§  æˆ‘å¯ä»¥å¹«ä½ ï¼š

- âœ… å¯«ä¸€æ®µ Python å·¥å…·ï¼šè®€å– Java æ¸¬è©¦è…³æœ¬ âœ è‡ªå‹•è½‰æ“ä½œæè¿°

- âœ… æä¾›å®Œæ•´çš„ AI Prompt ç¯„æœ¬å’Œè‡ªå‹•åŒ–è…³æœ¬

- âœ… è¨­å®š Cucumber å°ˆæ¡ˆçµæ§‹ + Java step definitions + Runner

---

### ğŸ¯ ä¸‹ä¸€æ­¥ä½ æƒ³å…ˆåšå“ªä¸€æ®µï¼Ÿ

1. å¹«ä½ æŠŠ Java Appium è…³æœ¬è½‰æˆã€Œæ“ä½œæè¿°ã€çš„ Python å·¥å…·ï¼Ÿ  

2. å¹«ä½ å¯«ä¸€å€‹è‡ªå‹•å‘¼å« AI çš„ `.feature` ç”¢ç”Ÿå™¨ï¼Ÿ  

3. å¹«ä½ æ­å»ºå®Œæ•´çš„ Cucumber + Appium æ¸¬è©¦æ¡†æ¶ï¼Ÿ

åªè¦ä½ èªªä¸€è²ï¼Œæˆ‘å¹«ä½ ä¸€æ­¥æ­¥ä¾† ğŸ™Œ